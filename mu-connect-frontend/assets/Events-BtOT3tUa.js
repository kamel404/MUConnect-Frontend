import{U as bt,u as b,a as Ct,h as Ae,j as e,ai as pe,x as ue,aj as ge,ak as xe,z as je,E as fe,N as W,W as p,X as u,R as f,a5 as k,Q as G,Y as $,I as E,a9 as Oe,aS as te,B as m,O as ie,d as l,c as v,V as R,al as be,L as yt,F,m as se,K as H,H as V,M as Pe,e as qe,f as Le,g as M,aA as kt,aB as Et,aC as Ne,aD as vt,aE as Ue,am as St,a6 as zt,ax as wt,b as Be,n as Ft,A as Tt,a7 as Rt}from"./chakra-BFMGxYLr.js";import{u as It,a as r}from"./react-6s1XWRBU.js";import{f as _t,a as ae,u as Mt,c as Dt,t as Wt,d as At,b as Ot,r as Pt}from"./eventsService-DpkCbHQQ.js";import{ab as ne,am as Ge,X as $e,I as He,u as qt,a0 as Ce,Q as Lt,T as Nt,h as ye,V as Ut,o as Bt,L as Gt,a9 as $t,S as Ht,p as Vt,aa as Yt}from"./index-Dge-MEAl.js";const Qt=zt(Rt),si=()=>{const ke=localStorage.getItem("role"),Ve=ke==="admin"||ke==="moderator",Ye=It(),C=bt(),Qe=b("gray.50","gray.900"),re=b("white","gray.800"),T=b("gray.800","white"),I=b("gray.500","gray.400"),z=b("purple.500","purple.300"),Y=b("gray.200","gray.700"),Je=Ct({base:!0,md:!1}),{isOpen:Xe,onOpen:Ke,onClose:Q}=Ae(),[y,Ze]=r.useState(null),{isOpen:et,onOpen:Ee,onClose:tt}=Ae(),[ve,Se]=r.useState(!1),[it,ze]=r.useState(null),[J,st]=r.useState(""),[S,X]=r.useState("All"),[D,oe]=r.useState([]),[at,we]=r.useState(!1),[Jt,Fe]=r.useState(!1),[Xt,Te]=r.useState(!1),[Re,nt]=r.useState([]),[Ie,K]=r.useState([]),[rt,_e]=r.useState(!0),[Kt,Me]=r.useState(null),[A,le]=r.useState(1),[de,ot]=r.useState(1);r.useEffect(()=>{(async()=>{try{const t=((await _t()).data||[]).map(s=>s.id);oe(t)}catch{}})()},[]),r.useEffect(()=>{(async()=>{_e(!0),Me(null);try{const n={page:A};J&&(n.search=J),S&&S!=="All"&&(S==="Today"?n.time_filter="today":S==="This Week"?n.time_filter="this_week":S==="This Month"&&(n.time_filter="this_month"));const t=await ae(n),s=(t.data||[]).map(a=>({id:a.id,title:a.title,date:a.event_datetime,location:a.location,organizer:a.organizer,description:a.description,attendees:a.attendees_count||0,media:a.media,mediaType:a.media?a.media.endsWith(".mp4")?"video":"image":void 0,speakers:a.speaker_names?a.speaker_names.split(",").map(w=>({name:w.trim(),title:""})):[]}));K(s),le(t.current_page||1),ot(t.last_page||1)}catch(n){Me(n.message||"Failed to fetch events")}finally{_e(!1)}})()},[A,J,S]);const ce=Ie,lt=async i=>{if(D.includes(i)){Fe(!0);try{await Ot(i),oe(n=>n.filter(t=>t!==i)),C({title:"Registration canceled",description:"You've been removed from the event",status:"info",duration:3e3,isClosable:!0})}catch(n){C({title:"Failed to unregister",description:n.message||"Could not unregister from event.",status:"error",duration:3e3,isClosable:!0})}finally{Fe(!1),Q()}}else{we(!0);try{await Pt(i),oe(n=>[...n,i]),C({title:"Registration successful!",description:"You're now registered for this event",status:"success",duration:3e3,isClosable:!0})}catch(n){C({title:"Failed to register",description:n.message||"Could not register for event.",status:"error",duration:3e3,isClosable:!0})}finally{we(!1),Q()}}},dt=async i=>{try{await Wt(i),nt(n=>{const t=n.includes(i),s=t?n.filter(a=>a!==i):[...n,i];return C({title:t?"Event unsaved":"Event saved",description:t?"Removed from your bookmarks":"Added to your bookmarks",status:"success",duration:2e3,isClosable:!0}),s})}catch(n){C({title:"Failed to toggle save",description:(n==null?void 0:n.message)||"Could not update bookmark.",status:"error",duration:2e3,isClosable:!0})}},ct=async i=>{Te(!0);try{await Dt(i);const t=((await ae()).data||[]).map(s=>({id:s.id,title:s.title,date:s.event_datetime,location:s.location,organizer:s.organizer,description:s.description,attendees:s.attendees_count||0,maxAttendees:s.max_attendees||0,media:s.media,mediaType:s.image_path?s.image_path.endsWith(".mp4")?"video":"image":void 0,speakers:s.speaker_names?s.speaker_names.split(",").map(a=>({name:a.trim(),title:""})):[]}));K(t),C({title:"Event created!",description:"Your event has been successfully created",status:"success",duration:3e3,isClosable:!0})}catch(n){C({title:"Failed to create event",description:n.message||"Could not create event.",status:"error",duration:3e3,isClosable:!0})}finally{Te(!1)}},ht=i=>{ze(i),Se(!0)},De=()=>{Se(!1),ze(null)},mt=async(i,n)=>{try{await Mt(i,n);const s=((await ae()).data||[]).map(a=>({id:a.id,title:a.title,date:a.event_datetime,location:a.location,organizer:a.organizer,description:a.description,attendees:a.attendees_count||0,maxAttendees:a.max_attendees||0,media:a.media,mediaType:a.image_path?a.image_path.endsWith(".mp4")?"video":"image":void 0,speakers:a.speaker_names?a.speaker_names.split(",").map(w=>({name:w.trim(),title:""})):[]}));K(s),C({title:"Event updated!",description:"The event has been updated.",status:"success",duration:2e3,isClosable:!0}),De()}catch(t){C({title:"Failed to update event",description:(t==null?void 0:t.message)||"Could not update event.",status:"error",duration:2e3,isClosable:!0})}},pt=async i=>{try{await At(i);const t=((await ae()).data||[]).map(s=>({id:s.id,title:s.title,date:s.event_datetime,location:s.location,organizer:s.organizer,description:s.description,attendees:s.attendees_count||0,maxAttendees:s.max_attendees||0,media:s.media,mediaType:s.image_path?s.image_path.endsWith(".mp4")?"video":"image":void 0,speakers:s.speaker_names?s.speaker_names.split(",").map(a=>({name:a.trim(),title:""})):[]}));K(t),C({title:"Event deleted!",description:"The event has been removed.",status:"success",duration:2e3,isClosable:!0})}catch(n){C({title:"Failed to delete event",description:(n==null?void 0:n.message)||"Could not delete event.",status:"error",duration:2e3,isClosable:!0})}},ut=i=>{Ze(i),Ke()},gt=()=>{Ye(-1)},We=({event:i})=>e.jsx(Qt,{onClick:()=>ut(i),cursor:"pointer",bg:re,position:"relative",whileHover:{y:-5},transition:{duration:.2},boxShadow:"md",borderRadius:"xl",overflow:"hidden",borderWidth:"1px",borderColor:Y,children:e.jsx(wt,{p:0,children:e.jsxs(Be,{spacing:0,children:[e.jsxs(m,{position:"relative",height:"180px",overflow:"hidden",children:[e.jsx(ie,{src:i.media,alt:i.title,objectFit:"cover",width:"100%",height:"100%",filter:"brightness(0.9)"}),e.jsxs(m,{position:"absolute",top:3,left:3,bg:"rgba(0,0,0,0.7)",py:1,px:2,borderRadius:"md",color:"white",textAlign:"center",children:[e.jsx(l,{fontSize:"xs",fontWeight:"bold",children:new Date(i.date).toLocaleDateString("en-US",{month:"short"}).toUpperCase()}),e.jsx(l,{fontSize:"xl",fontWeight:"bold",children:new Date(i.date).getDate()})]}),e.jsx(se,{"aria-label":Re.includes(i.id)?"Unsave event":"Bookmark event",icon:e.jsx(Bt,{fill:Re.includes(i.id)?"currentColor":"none"}),position:"absolute",top:3,right:12,colorScheme:"purple",variant:"ghost",size:"lg",borderRadius:"full",onClick:n=>{n.stopPropagation(),dt(i.id)}}),e.jsxs(Pe,{placement:"bottom-end",children:[e.jsx(qe,{as:se,"aria-label":"Event options",icon:e.jsx(Gt,{}),position:"absolute",top:3,right:3,size:"lg",variant:"ghost",borderRadius:"full",zIndex:1,onClick:n=>n.stopPropagation()}),e.jsxs(Le,{minW:"140px",zIndex:2,children:[e.jsx(M,{icon:e.jsx($t,{}),onClick:n=>{n.stopPropagation();const t=`${window.location.origin}/events/${i.id}`;navigator.clipboard.writeText(t),C({title:"Link copied!",description:"Event link copied to clipboard.",status:"info",duration:2e3,isClosable:!0})},children:"Share"}),(localStorage.getItem("role")==="admin"||localStorage.getItem("role")==="moderator")&&e.jsxs(e.Fragment,{children:[e.jsx(M,{icon:e.jsx(He,{}),onClick:n=>{n.stopPropagation(),ht(i)},children:"Edit"}),e.jsx(M,{icon:e.jsx(Ht,{}),color:"red.500",onClick:async n=>{n.stopPropagation(),await pt(i.id)},children:"Delete"})]})]})]})]}),e.jsxs(Be,{p:4,spacing:3,children:[e.jsx(H,{size:"md",color:T,noOfLines:1,children:i.title}),e.jsxs(F,{direction:"column",gap:2,children:[e.jsxs(F,{align:"center",gap:2,children:[e.jsx(E,{as:ne,color:z,boxSize:4}),e.jsx(l,{fontSize:"sm",color:I,noOfLines:1,children:i.location})]}),e.jsxs(F,{align:"center",gap:2,children:[e.jsx(E,{as:ye,color:z,boxSize:4}),e.jsx(l,{fontSize:"sm",color:I,children:new Date(i.date).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})})]})]}),D.includes(i.id)&&e.jsx(Ft,{colorScheme:"green",alignSelf:"flex-start",px:2,py:1,borderRadius:"full",children:e.jsxs(F,{align:"center",gap:1,children:[e.jsx(E,{as:Vt}),e.jsx(l,{children:"Registered"})]})})]})]})})},i.id),xt=r.memo(({isOpen:i,onClose:n,event:t,onEventUpdate:s})=>{var ee,x;const[a,w]=r.useState({title:(t==null?void 0:t.title)||"",date:t?(ee=t.date)==null?void 0:ee.split("T")[0]:"",time:t&&t.date?new Date(t.date).toISOString().slice(11,16):"",location:(t==null?void 0:t.location)||"",organizer:(t==null?void 0:t.organizer)||"",description:(t==null?void 0:t.description)||"",speakerNames:((x=t==null?void 0:t.speakers)==null?void 0:x.map(o=>o.name).join(", "))||"",mediaUrl:(t==null?void 0:t.media)||"",imageFile:null}),[O,P]=r.useState((t==null?void 0:t.media)||null),c=r.useRef(null),[d,q]=r.useState({}),he=b("white","gray.800"),L=b("gray.800","white"),_=b("gray.500","gray.400");r.useEffect(()=>{var o,h;t&&(w({title:t.title||"",date:((o=t.date)==null?void 0:o.split("T")[0])||"",time:t.date?new Date(t.date).toISOString().slice(11,16):"",location:t.location||"",organizer:t.organizer||"",description:t.description||"",speakerNames:((h=t.speakers)==null?void 0:h.map(j=>j.name).join(", "))||"",mediaUrl:t.media||"",imageFile:null}),P(t.media||null))},[t]);const g=o=>{const{name:h,value:j}=o.target;w(B=>({...B,[h]:j})),d[h]&&q(B=>({...B,[h]:null}))},me=o=>{const h=o.target.files[0];if(!h)return;w(B=>({...B,imageFile:h}));const j=new FileReader;j.onload=()=>P(j.result),j.readAsDataURL(h)},N=()=>c.current.click(),U=()=>{q({}),n()},Z=()=>{const o={};if(a.title.trim()||(o.title="Title is required"),a.date||(o.date="Date is required"),a.time||(o.time="Time is required"),a.location.trim()||(o.location="Location is required"),a.organizer.trim()||(o.organizer="Organizer is required"),a.description.trim()||(o.description="Description is required"),Object.keys(o).length>0){q(o);return}const h={title:a.title,event_datetime:`${a.date} ${a.time}:00`,location:a.location,organizer:a.organizer,description:a.description,speaker_names:a.speakerNames,image_path:a.imageFile};s(t.id,h)};return e.jsxs(pe,{isOpen:i,onClose:U,size:"xl",children:[e.jsx(ue,{bg:"blackAlpha.300",backdropFilter:"blur(5px)"}),e.jsxs(ge,{bg:he,borderRadius:"xl",children:[e.jsx(xe,{color:L,children:"Edit Event"}),e.jsx(je,{}),e.jsx(fe,{pb:6,children:e.jsxs(W,{templateColumns:{base:"1fr",md:"1fr 1fr"},gap:6,children:[e.jsxs(p,{isRequired:!0,isInvalid:d.title,children:[e.jsx(u,{children:"Event Title"}),e.jsx(f,{name:"title",value:a.title,onChange:g,placeholder:"Enter event title"}),d.title&&e.jsx(k,{children:d.title})]}),e.jsxs(p,{isRequired:!0,isInvalid:d.date,children:[e.jsx(u,{children:"Date"}),e.jsx(f,{name:"date",type:"date",value:a.date,onChange:g}),d.date&&e.jsx(k,{children:d.date})]}),e.jsxs(p,{isRequired:!0,isInvalid:d.time,children:[e.jsx(u,{children:"Time"}),e.jsx(f,{name:"time",type:"time",value:a.time,onChange:g}),d.time&&e.jsx(k,{children:d.time})]}),e.jsxs(p,{isRequired:!0,isInvalid:d.location,children:[e.jsx(u,{children:"Location"}),e.jsxs(G,{children:[e.jsx($,{pointerEvents:"none",children:e.jsx(E,{as:ne,color:_})}),e.jsx(f,{name:"location",value:a.location,onChange:g,placeholder:"Event location"})]}),d.location&&e.jsx(k,{children:d.location})]}),e.jsxs(p,{isRequired:!0,isInvalid:d.organizer,children:[e.jsx(u,{children:"Organizer"}),e.jsx(f,{name:"organizer",value:a.organizer,onChange:g,placeholder:"Organizing department or group"}),d.organizer&&e.jsx(k,{children:d.organizer})]}),e.jsxs(p,{gridColumn:{md:"span 2"},isRequired:!0,isInvalid:d.description,children:[e.jsx(u,{children:"Description"}),e.jsx(Oe,{name:"description",value:a.description,onChange:g,placeholder:"Provide details about your event",rows:5}),d.description&&e.jsx(k,{children:d.description})]}),e.jsxs(p,{gridColumn:{md:"span 2"},children:[e.jsx(u,{children:"Speaker Names"}),e.jsxs(G,{children:[e.jsx($,{pointerEvents:"none",children:e.jsx(E,{as:Ge,color:_})}),e.jsx(f,{name:"speakerNames",value:a.speakerNames,onChange:g,placeholder:"Names separated by commas"})]}),e.jsx(te,{children:"If applicable, add featured speakers"})]}),e.jsxs(p,{gridColumn:{md:"span 2"},children:[e.jsx(u,{children:"Event Image"}),e.jsxs(m,{position:"relative",children:[O?e.jsxs(m,{position:"relative",onClick:N,cursor:"pointer",borderRadius:"md",overflow:"hidden",mb:3,children:[e.jsx(ie,{src:O,alt:"Event preview",height:"200px",width:"100%",objectFit:"cover"}),e.jsx(m,{position:"absolute",top:0,left:0,right:0,bottom:0,bg:"blackAlpha.400",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,transition:"opacity 0.2s",_hover:{opacity:1},children:e.jsx(l,{color:"white",fontWeight:"bold",children:"Change Image"})})]}):e.jsx(v,{leftIcon:e.jsx($e,{}),onClick:N,width:"100%",height:"200px",variant:"outline",mb:3,py:10,children:e.jsxs(R,{spacing:2,children:[e.jsx(l,{children:"Click to upload event image"}),e.jsx(l,{fontSize:"xs",color:_,children:"JPEG, PNG or GIF, recommended size 1200×630px"})]})}),e.jsx(f,{type:"file",accept:"image/*",display:"none",ref:c,onChange:me})]}),e.jsx(te,{children:"A default image will be used if not provided"})]})]})}),e.jsxs(be,{children:[e.jsx(v,{variant:"outline",mr:3,onClick:U,children:"Cancel"}),e.jsx(v,{colorScheme:"purple",onClick:Z,leftIcon:e.jsx(He,{}),children:"Update Event"})]})]})]})}),jt=r.memo(({isOpen:i,onClose:n,onEventCreate:t})=>{const[s,a]=r.useState({title:"",date:"",time:"",location:"",organizer:"",description:"",speakerNames:"",mediaUrl:""}),[w,O]=r.useState(null),P=r.useRef(null),[c,d]=r.useState({}),q=b("white","gray.800"),he=b("gray.800","white"),L=b("gray.500","gray.400"),{user:_}=qt(),g=x=>{const{name:o,value:h}=x.target;a(j=>({...j,[o]:h})),c[o]&&d(j=>({...j,[o]:null}))},me=x=>{const o=x.target.files[0];if(!o)return;a(j=>({...j,imageFile:o}));const h=new FileReader;h.onload=()=>{O(h.result),a(j=>({...j,mediaUrl:h.result}))},h.readAsDataURL(o)},N=()=>{P.current.click()},U=()=>{a({title:"",date:"",time:"",location:"",organizer:"",description:"",speakerNames:"",mediaUrl:""}),O(null),d({})},Z=()=>{U(),n()},ee=()=>{const x={};if(s.title.trim()||(x.title="Title is required"),s.date||(x.date="Date is required"),s.time||(x.time="Time is required"),s.location.trim()||(x.location="Location is required"),s.organizer.trim()||(x.organizer="Organizer is required"),s.description.trim()||(x.description="Description is required"),Object.keys(x).length>0){d(x);return}const o={user_id:_==null?void 0:_.id,title:s.title,event_datetime:`${s.date} ${s.time}:00`,location:s.location,organizer:s.organizer,description:s.description,speaker_names:s.speakerNames,image_path:s.imageFile};t(o),U(),n()};return e.jsxs(pe,{isOpen:i,onClose:Z,size:"xl",children:[e.jsx(ue,{bg:"blackAlpha.300",backdropFilter:"blur(5px)"}),e.jsxs(ge,{bg:q,borderRadius:"xl",children:[e.jsx(xe,{color:he,children:"Create New Event"}),e.jsx(je,{}),e.jsx(fe,{pb:6,children:e.jsxs(W,{templateColumns:{base:"1fr",md:"1fr 1fr"},gap:6,children:[e.jsxs(p,{isRequired:!0,isInvalid:c.title,children:[e.jsx(u,{children:"Event Title"}),e.jsx(f,{name:"title",value:s.title,onChange:g,placeholder:"Enter event title"}),c.title&&e.jsx(k,{children:c.title})]}),e.jsxs(p,{isRequired:!0,isInvalid:c.date,children:[e.jsx(u,{children:"Date"}),e.jsx(f,{name:"date",type:"date",value:s.date,onChange:g}),c.date&&e.jsx(k,{children:c.date})]}),e.jsxs(p,{isRequired:!0,isInvalid:c.time,children:[e.jsx(u,{children:"Time"}),e.jsx(f,{name:"time",type:"time",value:s.time,onChange:g}),c.time&&e.jsx(k,{children:c.time})]}),e.jsxs(p,{isRequired:!0,isInvalid:c.location,children:[e.jsx(u,{children:"Location"}),e.jsxs(G,{children:[e.jsx($,{pointerEvents:"none",children:e.jsx(E,{as:ne,color:L})}),e.jsx(f,{name:"location",value:s.location,onChange:g,placeholder:"Event location"})]}),c.location&&e.jsx(k,{children:c.location})]}),e.jsxs(p,{isRequired:!0,isInvalid:c.organizer,children:[e.jsx(u,{children:"Organizer"}),e.jsx(f,{name:"organizer",value:s.organizer,onChange:g,placeholder:"Organizing department or group"}),c.organizer&&e.jsx(k,{children:c.organizer})]}),e.jsxs(p,{gridColumn:{md:"span 2"},isRequired:!0,isInvalid:c.description,children:[e.jsx(u,{children:"Description"}),e.jsx(Oe,{name:"description",value:s.description,onChange:g,placeholder:"Provide details about your event",rows:5}),c.description&&e.jsx(k,{children:c.description})]}),e.jsxs(p,{gridColumn:{md:"span 2"},children:[e.jsx(u,{children:"Speaker Names"}),e.jsxs(G,{children:[e.jsx($,{pointerEvents:"none",children:e.jsx(E,{as:Ge,color:L})}),e.jsx(f,{name:"speakerNames",value:s.speakerNames,onChange:g,placeholder:"Names separated by commas"})]}),e.jsx(te,{children:"If applicable, add featured speakers"})]}),e.jsxs(p,{gridColumn:{md:"span 2"},children:[e.jsx(u,{children:"Event Image"}),e.jsxs(m,{position:"relative",children:[w?e.jsxs(m,{position:"relative",onClick:N,cursor:"pointer",borderRadius:"md",overflow:"hidden",mb:3,children:[e.jsx(ie,{src:w,alt:"Event preview",height:"200px",width:"100%",objectFit:"cover"}),e.jsx(m,{position:"absolute",top:0,left:0,right:0,bottom:0,bg:"blackAlpha.400",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,transition:"opacity 0.2s",_hover:{opacity:1},children:e.jsx(l,{color:"white",fontWeight:"bold",children:"Change Image"})})]}):e.jsx(v,{leftIcon:e.jsx($e,{}),onClick:N,width:"100%",height:"200px",variant:"outline",mb:3,py:10,children:e.jsxs(R,{spacing:2,children:[e.jsx(l,{children:"Click to upload event image"}),e.jsx(l,{fontSize:"xs",color:L,children:"JPEG, PNG or GIF, recommended size 1200×630px"})]})}),e.jsx(f,{type:"file",accept:"image/*",display:"none",ref:P,onChange:me})]}),e.jsx(te,{children:"A default image will be used if not provided"})]})]})}),e.jsxs(be,{children:[e.jsx(v,{variant:"outline",mr:3,onClick:Z,children:"Cancel"}),e.jsx(v,{colorScheme:"purple",onClick:ee,leftIcon:e.jsx(Ce,{}),children:"Create Event"})]})]})]})}),ft=()=>{if(!y)return null;const i=new Date(y.date),n=i<new Date,t=D.includes(y.id);return e.jsxs(pe,{isOpen:Xe,onClose:Q,size:"xl",children:[e.jsx(ue,{bg:"blackAlpha.300",backdropFilter:"blur(5px)"}),e.jsxs(ge,{bg:re,borderRadius:"xl",children:[e.jsx(xe,{color:T,children:y.title}),e.jsx(je,{}),e.jsxs(fe,{pb:6,children:[e.jsx(m,{position:"relative",mb:6,children:e.jsx(ie,{src:y.media,alt:y.title,w:"100%",h:"250px",objectFit:"cover",borderRadius:"lg"})}),e.jsxs(W,{templateColumns:{base:"1fr",md:"2fr 1fr"},gap:6,children:[e.jsxs(m,{children:[e.jsx(H,{size:"md",mb:3,color:T,children:"About This Event"}),e.jsx(l,{color:T,mb:4,children:y.description}),y.speakers&&y.speakers.length>0&&e.jsxs(m,{mt:5,children:[e.jsx(H,{size:"sm",mb:3,color:T,children:"Featured Speakers"}),e.jsx(R,{align:"start",spacing:3,children:y.speakers.map((s,a)=>e.jsxs(V,{spacing:3,children:[e.jsx(Tt,{size:"sm",name:s.name}),e.jsx(m,{children:e.jsx(l,{fontWeight:"bold",fontSize:"sm",children:s.name})})]},a))})]})]}),e.jsx(m,{children:e.jsxs(R,{align:"start",spacing:4,p:4,bg:b("gray.50","gray.700"),borderRadius:"lg",children:[e.jsx(H,{size:"sm",color:T,children:"Event Details"}),e.jsxs(V,{children:[e.jsx(E,{as:ye,color:z}),e.jsxs(R,{align:"start",spacing:0,children:[e.jsx(l,{fontSize:"sm",fontWeight:"bold",children:"Date & Time"}),e.jsx(l,{fontSize:"sm",children:i.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.jsx(l,{fontSize:"sm",children:i.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})})]})]}),e.jsxs(V,{children:[e.jsx(E,{as:ne,color:z}),e.jsxs(R,{align:"start",spacing:0,children:[e.jsx(l,{fontSize:"sm",fontWeight:"bold",children:"Location"}),e.jsx(l,{fontSize:"sm",children:y.location})]})]}),e.jsxs(V,{children:[e.jsx(E,{as:Yt,color:z}),e.jsxs(R,{align:"start",spacing:0,children:[e.jsx(l,{fontSize:"sm",fontWeight:"bold",children:"Organizer"}),e.jsx(l,{fontSize:"sm",children:y.organizer})]})]})]})})]})]}),e.jsxs(be,{children:[e.jsx(v,{variant:"outline",mr:3,onClick:Q,children:"Close"}),n?e.jsx(l,{color:I,children:"Event Finished"}):e.jsx(v,{colorScheme:t?"red":"purple",onClick:()=>lt(y.id),isLoading:at,children:t?"Cancel Registration":"Register Now"})]})]})]})};return e.jsxs(m,{minH:"100vh",bg:Qe,py:6,px:{base:4,md:6},children:[e.jsxs(yt,{maxW:"1200px",children:[e.jsxs(F,{mb:8,align:"center",justify:"space-between",children:[e.jsxs(F,{align:"center",children:[e.jsx(se,{icon:e.jsx(Lt,{}),onClick:gt,"aria-label":"Go back",variant:"ghost",color:T,size:"lg",mr:3,_hover:{bg:b("gray.100","gray.700")}}),e.jsxs(R,{align:"start",spacing:1,children:[e.jsx(H,{size:"lg",color:T,children:"Campus Events"}),e.jsx(l,{fontSize:"sm",color:I,children:"Discover and register for upcoming events"})]})]}),Ve&&e.jsx(v,{onClick:Ee,colorScheme:"purple",leftIcon:e.jsx(Ce,{}),size:Je?"sm":"md",display:{base:"none",md:"flex"},children:"Create Event"})]}),e.jsx(m,{bg:re,p:5,borderRadius:"xl",boxShadow:"sm",mb:8,borderWidth:"1px",borderColor:Y,children:e.jsxs(F,{direction:{base:"column",md:"row"},gap:4,justify:"space-between",align:{base:"stretch",md:"center"},children:[e.jsxs(G,{maxW:{base:"100%",md:"400px"},children:[e.jsx($,{pointerEvents:"none",children:e.jsx(E,{as:Nt,color:I})}),e.jsx(f,{placeholder:"Search for events...",value:J,onChange:i=>st(i.target.value),focusBorderColor:z})]}),e.jsx(V,{spacing:3,children:e.jsxs(Pe,{children:[e.jsx(qe,{as:v,rightIcon:e.jsx(Ut,{}),variant:"outline",size:"md",children:e.jsxs(F,{align:"center",children:[e.jsx(E,{as:ye,mr:2}),e.jsx(l,{children:S})]})}),e.jsxs(Le,{children:[e.jsx(M,{onClick:()=>X("All"),fontWeight:S==="All"?"bold":"normal",children:"All"}),e.jsx(M,{onClick:()=>X("Today"),fontWeight:S==="Today"?"bold":"normal",children:"Today"}),e.jsx(M,{onClick:()=>X("This Week"),fontWeight:S==="This Week"?"bold":"normal",children:"This Week"}),e.jsx(M,{onClick:()=>X("This Month"),fontWeight:S==="This Month"?"bold":"normal",children:"This Month"})]})]})})]})}),e.jsxs(kt,{variant:"soft-rounded",colorScheme:"purple",children:[e.jsxs(Et,{mb:6,children:[e.jsxs(Ne,{_selected:{bg:`${z}20`,color:z,fontWeight:"semibold"},children:["All Events (",ce.length,")"]}),e.jsxs(Ne,{_selected:{bg:`${z}20`,color:z,fontWeight:"semibold"},children:["My Events (",D.length,")"]})]}),e.jsxs(vt,{children:[e.jsx(Ue,{p:0,children:rt?e.jsx(W,{templateColumns:{base:"1fr",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)"},gap:6,children:[...Array(6)].map((i,n)=>e.jsx(St,{height:"300px",borderRadius:"xl"},n))}):ce.length>0?e.jsxs(e.Fragment,{children:[e.jsx(W,{templateColumns:{base:"1fr",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)"},gap:6,children:ce.map(i=>e.jsx(We,{event:i},i.id))}),e.jsxs(F,{justify:"center",mt:8,gap:2,align:"center",children:[e.jsx(v,{onClick:()=>le(i=>Math.max(1,i-1)),disabled:A===1,variant:"outline",children:"Previous"}),e.jsxs(l,{px:3,fontWeight:"medium",children:["Page ",A," of ",de]}),e.jsx(v,{onClick:()=>le(i=>Math.min(de,i+1)),disabled:A===de,variant:"outline",children:"Next"})]})]}):e.jsx(m,{p:12,textAlign:"center",borderWidth:"2px",borderStyle:"dashed",borderColor:Y,borderRadius:"lg",children:e.jsx(l,{color:I,children:"No Events Found!"})})}),e.jsx(Ue,{p:0,children:D.length>0?e.jsx(W,{templateColumns:{base:"1fr",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)"},gap:6,children:Ie.filter(i=>D.includes(i.id)).map(i=>e.jsx(We,{event:i},i.id))}):e.jsx(m,{p:12,textAlign:"center",borderWidth:"2px",borderStyle:"dashed",borderColor:Y,borderRadius:"lg",children:e.jsx(l,{color:I,children:"You haven't registered for any events yet"})})})]})]})]}),e.jsx(se,{position:"fixed",bottom:"24px",right:"24px","aria-label":"Create event",icon:e.jsx(Ce,{}),colorScheme:"purple",isRound:!0,boxShadow:"lg",size:"lg",onClick:Ee,display:{base:"flex",md:"none"},zIndex:2}),e.jsx(ft,{}),ve&&e.jsx(xt,{isOpen:ve,onClose:De,event:it,onEventUpdate:mt}),e.jsx(jt,{isOpen:et,onClose:tt,onEventCreate:ct})]})};export{si as default};
