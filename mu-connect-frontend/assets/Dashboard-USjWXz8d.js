import{u as o,j as e,F as u,S as O,a3 as U,a4 as M,d as r,B as h,a6 as m,a7 as j,H as v,A as N,V as z,K as p,a8 as C,T as V,I as D}from"./chakra-BFMGxYLr.js";import{d as _,h as F,x as $,f as A,j as K,y as P}from"./index-Dge-MEAl.js";import{a as x,L as G}from"./react-6s1XWRBU.js";const X=()=>{var w,S,k;const b=o("white","gray.800"),y=o("gray.800","whiteAlpha.900"),a=o("gray.600","gray.400"),c=o("gray.200","gray.700"),g=o("blue.600","blue.400"),n=o("yellow.400","yellow.500"),[f,R]=x.useState(null),[E,H]=x.useState(!0),[L,T]=x.useState(null);x.useEffect(()=>{(async()=>{try{const d=await P.get("/overview");R(d.data)}catch(d){T(d.message||"Failed to fetch dashboard data."),console.error(d)}finally{H(!1)}})()},[]);const W=()=>{const s=new Date().getHours();return s<12?"Good morning":s<18?"Good afternoon":"Good evening"};if(E)return e.jsx(u,{justify:"center",align:"center",minH:"50vh",children:e.jsx(O,{size:"xl"})});if(L)return e.jsxs(U,{status:"error",borderRadius:"md",children:[e.jsx(M,{}),e.jsx(r,{children:"There was an error fetching your dashboard data. Please try again later."})]});if(!f)return null;const{user:i,overview:t,general:l}=f,I={events:{count:t.events.registered,label:"Registered Events",link:"/events",icon:F},clubs:{count:t.clubs.total,label:"Active Clubs",link:"/clubs",icon:$},resources:{count:l.latest_resources.length,label:"Latest Resources",link:"/resources",icon:_},studyGroups:{count:t.study_groups.total,label:"Study Groups",link:"/study-groups",icon:A}},B=[{title:"Resources",description:"Access study materials, guides, and educational resources.",icon:_,link:"/resources",stat:`${t.resources.saved} saved`,preview:l.latest_resources.length>0?`Latest: ${((w=l.latest_resources[0])==null?void 0:w.title)||"Untitled"}`:"No new resources"},{title:"Events",description:"See upcoming campus events and register.",icon:F,link:"/events",stat:`${t.events.upcoming} upcoming`,preview:l.upcoming_events.length>0?`Next: ${((S=l.upcoming_events[0])==null?void 0:S.title)||"Untitled"}`:"No upcoming events"},{title:"Clubs",description:"Discover, join, and interact with campus clubs.",icon:$,link:"/clubs",stat:`${t.clubs.total} active clubs`,preview:"Check out the latest club activities and news."},{title:"Study Groups",description:"Collaborate with peers and excel in your courses.",icon:A,link:"/study-groups",stat:`${t.study_groups.leading} led by you`,preview:"Find or create a study group for your classes."}];return e.jsxs(h,{children:[e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsx(j,{mb:6,p:6,borderRadius:"xl",borderWidth:"1px",borderColor:c,bg:b,boxShadow:"md",children:e.jsx(u,{direction:{base:"column",md:"row"},alignItems:"center",justifyContent:"space-between",children:e.jsxs(v,{spacing:4,mb:{base:4,md:0},children:[e.jsx(N,{size:"lg",src:i.avatar,name:`${i.first_name||""} ${i.last_name||""}`.trim()||"User"}),e.jsxs(z,{align:"start",spacing:1,children:[e.jsxs(p,{size:"md",color:y,children:[W(),", ",i.first_name,"!"]}),e.jsx(r,{fontSize:"sm",color:a,children:((k=i.major)==null?void 0:k.name)||"Major not specified"})]})]})})})}),e.jsxs(h,{mb:6,children:[e.jsx(p,{size:"md",mb:4,color:g,children:"My Overview"}),e.jsx(C,{columns:{base:2,md:4},spacing:4,children:Object.values(I).map(s=>e.jsx(m.div,{whileHover:{y:-3,scale:1.03},transition:{duration:.15},children:e.jsx(j,{bg:b,borderRadius:"lg",borderWidth:"1px",borderColor:c,p:4,variant:"outline",as:G,to:s.link,_hover:{textDecoration:"none",shadow:"md",bg:`${n}10`},children:e.jsx(V,{label:s.label,placement:"top",hasArrow:!0,children:e.jsxs(v,{spacing:3,align:"center",children:[e.jsx(D,{as:s.icon,boxSize:6,color:n}),e.jsxs(z,{align:"start",spacing:0,children:[e.jsx(r,{fontSize:"xl",fontWeight:"bold",color:y,children:s.count}),e.jsx(r,{fontSize:"xs",color:a,whiteSpace:"nowrap",children:s.label})]})]})})})},s.label))})]}),e.jsxs(h,{mb:6,children:[e.jsx(p,{size:"md",mb:4,color:g,children:"Explore Sections"}),e.jsx(C,{columns:{base:1,md:2},spacing:6,children:B.map(s=>e.jsx(G,{to:s.link,style:{textDecoration:"none"},children:e.jsx(m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{scale:1.02,y:-4},children:e.jsx(j,{bg:b,borderColor:c,borderWidth:"1px",borderRadius:"xl",boxShadow:"sm",p:6,_hover:{bg:`${n}10`},transition:"all 0.2s ease",h:"100%",children:e.jsxs(u,{direction:"column",h:"100%",children:[e.jsxs(u,{align:"center",mb:3,gap:3,children:[e.jsx(h,{fontSize:"2xl",as:s.icon,color:n}),e.jsx(p,{size:"md",color:g,children:s.title})]}),e.jsx(r,{color:a,mb:4,flexGrow:1,children:s.description}),e.jsx(r,{fontWeight:"bold",color:n,mb:2,children:s.stat}),e.jsxs(v,{mt:"auto",pt:3,borderTopWidth:"1px",borderColor:c,spacing:2,children:[e.jsx(r,{fontSize:"xs",color:a,noOfLines:1,children:s.preview}),e.jsx(D,{as:K,boxSize:4,color:a,ml:"auto"})]})]})})})},s.title))})]})]})};export{X as default};
