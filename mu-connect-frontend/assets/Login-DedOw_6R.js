import{U as F,j as e,C as k,S as G,F as t,L as U,B as g,O as _,K as x,b as h,W as p,X as m,Q as b,Y as j,I as n,R as f,d as i,Z as w,c as B}from"./chakra-BFMGxYLr.js";import{a as v,u as R,N as D,L as S}from"./react-6s1XWRBU.js";import{u as q,l as A,k as M,m as N,j as P}from"./index-Dge-MEAl.js";import{l as W}from"./errorHandler-C4MeMDhB.js";const Q=()=>{const[a,y]=v.useState({login:"",password:""}),[s,l]=v.useState({}),c=F();R();const{user:C,loading:d,login:L}=q(),u=r=>{y({...a,[r.target.name]:r.target.value}),l({...s,[r.target.name]:""})},z=()=>{const r={};return a.login||(r.login="Username/Email is required"),a.password||(r.password="Password is required"),l(r),Object.keys(r).length===0},E=async r=>{if(r.preventDefault(),!!z())try{await L(a),c({title:"Login successful",status:"success",duration:3e3})}catch(o){W("handleSubmit",o);const I=(o==null?void 0:o.message)||(o==null?void 0:o.error)||"Login failedddd";c({title:"Error",description:I,status:"error",duration:5e3,isClosable:!0})}};return d?e.jsx(k,{minH:"100vh",children:e.jsx(G,{size:"xl",color:"blue.500"})}):C?e.jsx(D,{to:"/dashboard",replace:!0}):e.jsx(t,{minH:"100vh",bgGradient:"linear(to-br, blue.50 0%, white 50%, blue.50 100%)",align:"center",justify:"center",children:e.jsx(U,{maxW:"container.md",px:[4,8],children:e.jsxs(g,{bg:"white",p:[6,12],rounded:"2xl",shadow:"xl",position:"relative",_before:{content:'""',position:"absolute",top:"-4px",left:"-4px",right:"-4px",bottom:"-4px",bgGradient:"linear(to-r, blue.500, teal.400)",borderRadius:"2xl",zIndex:-1},children:[e.jsxs(t,{align:"center",mb:8,gap:3,justify:"center",children:[e.jsx(_,{src:A,boxSize:"50px",alt:"Maaref Logo"}),e.jsx(x,{size:"xl",bgGradient:"linear(to-r, blue.600, teal.500)",bgClip:"text",children:"MU Connect"})]}),e.jsxs(h,{spacing:8,children:[e.jsx(g,{textAlign:"center",children:e.jsx(x,{size:"2xl",mb:2,bgGradient:"linear(to-r, blue.600, teal.500)",bgClip:"text",children:"Welcome Back!"})}),e.jsx("form",{onSubmit:E,children:e.jsxs(h,{spacing:6,children:[e.jsxs(p,{isRequired:!0,isInvalid:!!s.login,children:[e.jsx(m,{color:"gray.600",children:"Username/Email"}),e.jsxs(b,{children:[e.jsx(j,{pointerEvents:"none",children:e.jsx(n,{as:M,color:"blue.500","aria-label":"Username icon"})}),e.jsx(f,{name:"login",placeholder:"id@mu.edu.lb",size:"lg",focusBorderColor:"blue.500",_placeholder:{color:"gray.400"},color:"gray.800",value:a.login,onChange:u})]}),s.login&&e.jsx(i,{color:"red.500",fontSize:"sm",mt:1,children:s.login})]}),e.jsxs(p,{isRequired:!0,isInvalid:!!s.password,children:[e.jsx(m,{color:"gray.600",children:"Password"}),e.jsxs(b,{children:[e.jsx(j,{pointerEvents:"none",children:e.jsx(n,{as:N,color:"blue.500","aria-label":"Password icon"})}),e.jsx(f,{type:"password",placeholder:"••••••••",size:"lg",focusBorderColor:"blue.500",_placeholder:{color:"gray.400"},color:"gray.800",name:"password",value:a.password,onChange:u})]}),s.password&&e.jsx(i,{color:"red.500",fontSize:"sm",mt:1,children:s.password})]}),e.jsx(t,{justify:"space-between",align:"center",children:e.jsx(w,{as:S,to:"/forgot-password",color:"blue.500",fontSize:"sm",_hover:{textDecoration:"underline"},children:"Forgot Password?"})}),e.jsx(B,{type:"submit",colorScheme:"blue",size:"lg",height:"60px",fontSize:"lg",rightIcon:e.jsx(n,{as:P,"aria-label":"Sign in"}),isLoading:d,bgGradient:"linear(to-r, blue.500, teal.400)",_hover:{bgGradient:"linear(to-r, blue.600, teal.500)"},_active:{transform:"scale(0.98)"},w:"full",children:"Sign In"})]})}),e.jsxs(i,{textAlign:"center",color:"gray.600",children:["New to MU Connect?"," ",e.jsx(w,{as:S,to:"/register",color:"blue.500",fontWeight:"600",_hover:{textDecoration:"underline"},children:"Create account"})]})]})]})})})};export{Q as default};
