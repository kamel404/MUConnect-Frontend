import{N as G,u as c,j as e,B as h,c as F,L as H,aS as T,a4 as L,F as t,K as g,ap as x,I as m,d as r,T as p,m as w,aw as O,al as K,D as R,aK as _,aJ as j,aW as f,n as V}from"./chakra-CQE3Mdfe.js";import{f as X,u as q,h as J,a as v}from"./react-DDk2FCmG.js";import{j as z,P as k,O as M,I as Y,X as P,e as $,w as Q,a4 as Z,c as ee,H as se,a5 as oe}from"./index-DPnEyPUk.js";import"./charts-BQajcoWg.js";const te=()=>{const y=X(),B=q(),d=G(),{docId:W}=J(),[i,D]=v.useState(!0),[s,N]=v.useState(null);v.useEffect(()=>{var n;D(!0),(n=y.state)!=null&&n.document?setTimeout(()=>{N(y.state.document),D(!1)},800):(D(!1),d({title:"Document not found",description:"The requested document could not be loaded.",status:"error",duration:5e3,isClosable:!0}))},[y,W,d]);const I=()=>{if(s){const n=s.createElement("a");n.href=s.url,n.setAttribute("download",s.name),s.body.appendChild(n),n.click(),s.body.removeChild(n),d({title:"Download started",description:`${s.name} is downloading.`,status:"success",duration:3e3,isClosable:!0})}},A=()=>{d({title:"Document bookmarked",description:"You can access this document in your bookmarks.",status:"success",duration:3e3,isClosable:!0})},U=()=>{navigator.clipboard.writeText(window.location.href),d({title:"Link copied",description:"Document link copied to clipboard.",status:"info",duration:3e3,isClosable:!0})},E=()=>{window.print()},S=c("white","gray.800"),u=c("gray.200","gray.600"),l=c("gray.600","gray.400"),o=c("brand.gold","brand.goldDark"),a=c("brand.navy","brand.navyDark"),b=c("gray.50","gray.800");return e.jsx(e.Fragment,{children:e.jsxs(h,{px:{base:4,md:6},py:6,maxW:"1400px",mx:"auto",bg:b,children:[e.jsx(F,{leftIcon:e.jsx(z,{}),variant:"ghost",mb:6,onClick:()=>B(-1),size:"sm",color:a,_hover:{bg:"transparent",color:o},children:"Back"}),e.jsxs(H,{templateColumns:{base:"1fr",lg:"3fr 1fr"},gap:6,children:[e.jsx(T,{children:e.jsxs(L,{bg:S,shadow:"md",borderRadius:"lg",overflow:"hidden",children:[e.jsxs(t,{p:6,borderBottom:"1px",borderColor:u,direction:{base:"column",md:"row"},justify:"space-between",align:{base:"start",md:"center"},gap:4,children:[e.jsxs(h,{children:[e.jsx(g,{as:"h1",size:"lg",mb:2,color:a,children:i?e.jsx(x,{height:"36px",width:"300px"}):(s==null?void 0:s.name)||"Document not found"}),e.jsx(t,{align:"center",gap:3,color:l,flexWrap:"wrap",children:i?e.jsx(x,{height:"20px",width:"180px"}):e.jsxs(e.Fragment,{children:[e.jsxs(t,{align:"center",gap:1,children:[e.jsx(m,{as:k,color:o}),e.jsx(r,{children:(s==null?void 0:s.type)||"Unknown type"})]}),(s==null?void 0:s.size)&&e.jsxs(t,{align:"center",gap:1,children:[e.jsx(m,{as:M,color:o}),e.jsx(r,{children:s.size})]}),e.jsxs(t,{align:"center",gap:1,children:[e.jsx(m,{as:Y,color:o}),e.jsxs(r,{children:["Uploaded ",(s==null?void 0:s.uploadDate)||"recently"]})]})]})})]}),e.jsxs(t,{gap:2,children:[e.jsx(p,{label:"Download",children:e.jsx(w,{"aria-label":"Download document",icon:e.jsx(P,{}),onClick:I,isDisabled:i||!s,bg:a,color:"white",_hover:{bg:o}})}),e.jsx(p,{label:"Bookmark",children:e.jsx(w,{"aria-label":"Bookmark document",icon:e.jsx($,{}),onClick:A,isDisabled:i||!s,bg:a,color:"white",_hover:{bg:o}})}),e.jsx(p,{label:"Share",children:e.jsx(w,{"aria-label":"Share document",icon:e.jsx(Q,{}),onClick:U,isDisabled:i||!s,bg:a,color:"white",_hover:{bg:o}})}),e.jsx(p,{label:"Print",children:e.jsx(w,{"aria-label":"Print document",icon:e.jsx(Z,{}),onClick:E,isDisabled:i||!s,bg:a,color:"white",_hover:{bg:o}})})]})]}),e.jsx(h,{p:6,children:i?e.jsx(x,{height:"600px",width:"100%"}):s?e.jsx(O,{ratio:4/3,maxH:"800px",children:e.jsx(h,{as:"iframe",src:s.url,borderRadius:"md",bg:b,border:"1px",borderColor:u,width:"100%",height:"100%","aria-label":"Document preview"})}):e.jsxs(t,{direction:"column",align:"center",justify:"center",py:20,bg:b,borderRadius:"md",children:[e.jsx(m,{as:k,boxSize:16,color:l,mb:4}),e.jsx(g,{size:"md",mb:2,color:a,children:"Document Not Found"}),e.jsx(r,{color:l,children:"The document you're looking for could not be loaded."}),e.jsx(F,{mt:6,leftIcon:e.jsx(z,{}),onClick:()=>B(-1),bg:a,color:"white",_hover:{bg:o},children:"Go Back"})]})})]})}),e.jsx(T,{children:e.jsx(L,{bg:S,shadow:"md",borderRadius:"lg",children:e.jsxs(K,{children:[e.jsx(g,{size:"md",mb:4,color:a,children:"Document Information"}),e.jsx(R,{mb:4,borderColor:u}),i?e.jsx(t,{direction:"column",gap:3,children:[...Array(5)].map((n,C)=>e.jsx(x,{height:"24px"},C))}):s?e.jsxs(_,{spacing:3,children:[e.jsxs(j,{children:[e.jsx(f,{as:ee,color:o}),e.jsx(r,{as:"span",fontWeight:"bold",mr:2,color:a,children:"Owner:"}),e.jsx(r,{as:"span",children:s.owner||"Unknown"})]}),e.jsxs(j,{children:[e.jsx(f,{as:se,color:o}),e.jsx(r,{as:"span",fontWeight:"bold",mr:2,color:a,children:"Created:"}),e.jsx(r,{as:"span",children:s.created||"Unknown"})]}),e.jsxs(j,{children:[e.jsx(f,{as:k,color:o}),e.jsx(r,{as:"span",fontWeight:"bold",mr:2,color:a,children:"File Type:"}),e.jsx(r,{as:"span",children:s.type||"Unknown"})]}),e.jsxs(j,{children:[e.jsx(f,{as:oe,color:o}),e.jsx(r,{as:"span",fontWeight:"bold",mr:2,color:a,children:"Rating:"}),e.jsx(V,{px:2,py:1,borderRadius:"full",bg:o,color:"white",children:s.rating||"Not rated"})]})]}):e.jsx(r,{color:l,children:"No document information available"}),e.jsx(R,{my:4,borderColor:u}),e.jsx(g,{size:"md",mb:4,color:a,children:"Related Documents"}),i?e.jsx(t,{direction:"column",gap:3,children:[...Array(3)].map((n,C)=>e.jsx(x,{height:"60px"},C))}):s?e.jsx(_,{spacing:3,children:(s.relatedDocuments||[{id:1,name:"Course Syllabus",type:"PDF"},{id:2,name:"Lecture Notes",type:"DOCX"},{id:3,name:"Assignment 1",type:"PDF"}]).map(n=>e.jsx(j,{p:2,_hover:{bg:b},borderRadius:"md",children:e.jsxs(t,{align:"center",children:[e.jsx(m,{as:k,mr:3,color:o}),e.jsxs(h,{children:[e.jsx(r,{fontWeight:"medium",color:a,children:n.name}),e.jsx(r,{fontSize:"sm",color:l,children:n.type})]})]})},n.id))}):e.jsx(r,{color:l,children:"No related documents available"}),e.jsx(F,{mt:6,width:"full",leftIcon:e.jsx(P,{}),bg:a,color:"white",_hover:{bg:o},onClick:I,isDisabled:i||!s,children:"Download Document"})]})})})]})]})})};export{te as default};
