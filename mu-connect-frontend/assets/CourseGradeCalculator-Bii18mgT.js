import{U as O,u as l,j as e,B as y,a6 as z,a7 as S,F as U,I as K,K as j,d,ax as Q,V as b,W as X,X as $,aU as v,aV as N,a3 as J,a4 as Z,H as I,T as _,m as M,R as ee,c as W,D as P}from"./chakra-BFMGxYLr.js";import{a as g}from"./react-6s1XWRBU.js";import{G as te,d as ae,i as ie,S as re,a0 as se}from"./index-Dge-MEAl.js";function ne(r){return te({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-384c0-35.3-28.7-64-64-64L64 0zM96 64l192 0c17.7 0 32 14.3 32 32l0 32c0 17.7-14.3 32-32 32L96 160c-17.7 0-32-14.3-32-32l0-32c0-17.7 14.3-32 32-32zm32 160a32 32 0 1 1 -64 0 32 32 0 1 1 64 0zM96 352a32 32 0 1 1 0-64 32 32 0 1 1 0 64zM64 416c0-17.7 14.3-32 32-32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-96 0c-17.7 0-32-14.3-32-32zM192 256a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm32 64a32 32 0 1 1 -64 0 32 32 0 1 1 64 0zm64-64a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm32 64a32 32 0 1 1 -64 0 32 32 0 1 1 64 0zM288 448a32 32 0 1 1 0-64 32 32 0 1 1 0 64z"},child:[]}]})(r)}const k=[{id:1,name:"Partial Exam 1",weight:15,grade:""},{id:2,name:"Partial Exam 2",weight:15,grade:""},{id:3,name:"Quizzes (Avg)",weight:15,grade:""},{id:4,name:"Assignment",weight:10,grade:""},{id:5,name:"Attendance",weight:5,grade:""},{id:6,name:"Participation",weight:5,grade:""},{id:7,name:"Final Exam",weight:35,grade:""}],le=r=>r>=95?"A+":r>=90?"A":r>=85?"B+":r>=80?"B":r>=75?"C+":r>=70?"C":r>=65?"D+":r>=60?"D":"F",ue=()=>{const r=O(),[c,p]=g.useState(k),[C,T]=g.useState(70),[s,x]=g.useState(null),[E,D]=g.useState(7),[u,R]=g.useState(7),f=g.useMemo(()=>c.reduce((t,i)=>t+Number(i.weight||0),0),[c]),F=(t,i,a)=>{let o=a;if((i==="weight"||i==="grade")&&a!==""){const n=Number(a);if(isNaN(n)||n<0||n>100)return;o=n}p(c.map(n=>n.id===t?{...n,[i]:o}:n)),x(null)},L=()=>{p([...c,{id:E,name:"",weight:0,grade:""}]),D(E+1)},V=t=>{t===u&&R(null),p(c.filter(i=>i.id!==t)),x(null)},q=()=>{if(f!==100){r({title:"Invalid Weights",description:`Total weight must be 100%, but it is currently ${f}%.`,status:"error",duration:5e3,isClosable:!0});return}const t=u?c.find(a=>a.id===u):null;if(t&&t.grade!==""){let a=0;c.forEach(n=>{const h=parseFloat(n.grade),m=parseFloat(n.weight);!isNaN(h)&&!isNaN(m)&&(a+=h*m/100)});const o=le(a);x({overall:a.toFixed(2),passed:a>=C,letterGrade:o})}else{if(!t){r({title:"Final Exam Not Set",description:"Please select which component is the final exam to calculate the required score.",status:"info",duration:5e3,isClosable:!0});return}let a=0;c.forEach(h=>{if(h.id!==u){const m=parseFloat(h.grade),B=parseFloat(h.weight);!isNaN(m)&&!isNaN(B)&&(a+=m*B/100)}});const o=parseFloat(t.weight);if(isNaN(o)||o===0){r({title:"Invalid Final Weight",description:"The final exam must have a weight greater than 0.",status:"error",duration:5e3,isClosable:!0});return}const n=(C-a)*100/o;x({currentTotal:a.toFixed(2),neededFinal:n})}},H=()=>{p(k),T(70),x(null)},A=l("white","gray.800"),Y=l("gray.800","whiteAlpha.900"),w=l("gray.600","gray.400"),G=l("gray.200","gray.700");return e.jsxs(y,{children:[e.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsx(S,{mb:6,p:6,borderRadius:"xl",borderWidth:"1px",borderColor:G,bg:A,children:e.jsxs(U,{alignItems:"center",gap:4,children:[e.jsx(K,{as:ae,w:10,h:10,color:l("blue.600","blue.400")}),e.jsxs(y,{children:[e.jsx(j,{size:"lg",color:Y,children:"Dynamic Grade Calculator"}),e.jsx(d,{color:w,children:"Add, remove, and edit grade components to match any course structure."})]})]})})}),e.jsx(S,{bg:A,borderWidth:"1px",borderColor:G,borderRadius:"lg",children:e.jsx(Q,{children:e.jsxs(b,{spacing:6,align:"stretch",children:[e.jsxs(b,{spacing:4,align:"stretch",p:4,borderWidth:"1px",borderRadius:"md",children:[e.jsx(j,{size:"sm",children:"Settings"}),e.jsxs(X,{children:[e.jsx($,{children:"Passing Grade (%)"}),e.jsx(v,{value:C,onChange:t=>T(Number(t)),min:0,max:100,children:e.jsx(N,{})})]}),e.jsxs(y,{children:[e.jsxs(d,{fontWeight:"bold",children:["Total Weight: ",f,"%"]}),f!==100&&e.jsxs(J,{status:"warning",mt:2,borderRadius:"md",children:[e.jsx(Z,{}),"Must equal 100%."]})]})]}),e.jsx(b,{spacing:4,align:"stretch",children:c.map((t,i)=>e.jsx(z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:i*.05},children:e.jsxs(I,{spacing:3,p:3,borderWidth:"1px",borderRadius:"md",bg:l("gray.50","gray.700"),children:[e.jsx(_,{label:"Set as Final Exam",placement:"top",children:e.jsx(M,{"aria-label":"Set as Final Exam",icon:e.jsx(ie,{}),isRound:!0,variant:u===t.id?"solid":"ghost",colorScheme:u===t.id?"yellow":"gray",onClick:()=>R(t.id)})}),e.jsx(ee,{placeholder:"Component Name (e.g., Midterm)",value:t.name,onChange:a=>F(t.id,"name",a.target.value),fontWeight:"bold"}),e.jsx(v,{value:t.weight,onChange:a=>F(t.id,"weight",a),min:0,max:100,w:"120px",children:e.jsx(N,{placeholder:"Weight %"})}),e.jsx(v,{value:t.grade,onChange:a=>F(t.id,"grade",a),min:0,max:100,w:"120px",children:e.jsx(N,{placeholder:"/100"})}),e.jsx(M,{"aria-label":"Delete component",icon:e.jsx(re,{}),colorScheme:"red",variant:"ghost",onClick:()=>V(t.id)})]})},t.id))}),e.jsx(I,{spacing:4,mt:4,w:"full",children:e.jsx(W,{leftIcon:e.jsx(se,{}),onClick:L,w:"full",children:"Add Component"})}),e.jsxs(I,{spacing:4,mt:2,w:"full",children:[e.jsx(W,{leftIcon:e.jsx(ne,{}),colorScheme:"blue",onClick:q,w:"full",children:"Calculate"}),e.jsx(W,{onClick:H,w:"full",children:"Reset"})]})]})})}),(()=>{if(!s)return null;let t="info",i="";s.overall?t=s.passed?"success":"error":s.neededFinal&&(s.neededFinal<=0?(t="success",i="You have already secured a passing grade! ðŸŽ‰"):s.neededFinal>100?(t="error",i="It is impossible to reach the passing grade."):(t="info",i="This is the minimum score required on the final to pass."));const o={success:{bg:l("green.50","green.900"),borderColor:l("green.200","green.700")},error:{bg:l("red.50","red.900"),borderColor:l("red.200","red.700")},info:{bg:l("blue.50","blue.900"),borderColor:l("blue.200","blue.700")}}[t];return e.jsx(z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsx(S,{mt:6,bg:o.bg,borderWidth:"1px",borderColor:o.borderColor,borderRadius:"lg",p:6,children:e.jsxs(b,{spacing:2,textAlign:"center",children:[s.overall&&e.jsxs(e.Fragment,{children:[e.jsx(j,{size:"lg",children:"Result"}),e.jsxs(d,{fontSize:"4xl",fontWeight:"bold",children:[s.overall," ",e.jsxs(d,{as:"span",fontSize:"3xl",fontWeight:"medium",children:["(",s.letterGrade,")"]})]}),e.jsx(d,{fontSize:"md",color:w,mt:-2,children:"Overall Grade"}),e.jsx(P,{my:3}),e.jsx(d,{fontSize:"lg",fontWeight:"semibold",children:s.passed?"Congratulations, you passed!":"You did not pass."})]}),s.currentTotal!==void 0&&e.jsxs(e.Fragment,{children:[e.jsx(j,{size:"lg",children:"Calculation"}),e.jsxs(d,{fontSize:"lg",children:["Your current grade (without the final) is ",e.jsxs("strong",{children:[s.currentTotal,"%"]}),"."]}),e.jsx(P,{my:3}),e.jsx(d,{fontSize:"lg",children:"To pass, you need at least:"}),e.jsxs(d,{fontSize:"4xl",fontWeight:"bold",children:[s.neededFinal.toFixed(2),"%"]}),e.jsx(d,{fontSize:"md",color:w,mt:-2,children:"on the Final Exam"}),e.jsx(d,{fontSize:"sm",mt:2,children:i})]})]})})})})()]})};export{ue as default};
