import{y as s,O as y}from"./index-Dge-MEAl.js";const f=y,h=async(t={})=>{const e=await s.get("/events",{params:t});return e.data&&Array.isArray(e.data.data)&&(e.data.data=e.data.data.map(a=>({...a,media:a.image_path?`${f}/api/storage/${a.image_path.replace(/^events[\\\/]/,"events/")}`:void 0}))),e.data},u=async t=>(await s.post(`/events/${t}/register`)).data,E=async t=>(await s.post(`/events/${t}/unregister`)).data,l=async(t={})=>{const e=await s.get("/events/my-events",{params:t});return e.data&&Array.isArray(e.data.data)&&(e.data.data=e.data.data.map(a=>({...a,media:a.image_path?`${f}/api/storage/${a.image_path.replace(/^events[\\\/]/,"events/")}`:void 0}))),e.data},w=async t=>{var e;try{let a=t,n={};if(!(t instanceof FormData)){const c=new FormData;Object.entries(t||{}).forEach(([r,o])=>{o!=null&&(Array.isArray(o)?o.forEach(i=>c.append(`${r}[]`,i)):c.append(r,o))}),a=c}return n["Content-Type"]="multipart/form-data",(await s.post("/events",a,{headers:n})).data}catch(a){throw((e=a.response)==null?void 0:e.data)||{message:"Failed to create event"}}},$=async(t,e)=>{var a;try{let n=e,d={};if(!(e instanceof FormData)){const r=new FormData;return Object.entries(e||{}).forEach(([i,p])=>{p!=null&&(Array.isArray(p)?p.forEach(m=>r.append(`${i}[]`,m)):r.append(i,p))}),r.append("_method","PUT"),n=r,d["Content-Type"]="multipart/form-data",(await s.post(`/events/${t}`,n,{headers:d})).data}return d["Content-Type"]="multipart/form-data",(await s.put(`/events/${t}`,n,{headers:d})).data}catch(n){throw((a=n.response)==null?void 0:a.data)||{message:"Failed to update event"}}},A=async t=>(await s.delete(`/events/${t}`)).data,v=async t=>(await s.post(`/events/${t}/toggleSave`)).data;export{h as a,E as b,w as c,A as d,l as f,u as r,v as t,$ as u};
